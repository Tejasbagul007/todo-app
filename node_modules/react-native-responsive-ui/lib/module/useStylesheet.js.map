{"version":3,"sources":["useStylesheet.ts"],"names":["_","mediaQuery","useDimensions","getStylesheet","width","height","styles","selectedStyles","forEach","style","query","push","cloneDeep","undefined","merge","apply","useStylesheet","dimensions"],"mappings":"AAAA,OAAO,KAAKA,CAAZ,MAAmB,QAAnB;AAGA,SAASC,UAAT,QAAuC,cAAvC;AACA,OAAOC,aAAP,MAA0B,iBAA1B;AAQA,OAAO,MAAMC,aAAa,GAAG,CAC3B;AAAEC,EAAAA,KAAF;AAASC,EAAAA;AAAT,CAD2B,EAE3BC,MAF2B,KAGxB;AACH,QAAMC,cAAgC,GAAG,EAAzC;AACAD,EAAAA,MAAM,CAACE,OAAP,CAAgBC,KAAD,IACbR,UAAU,CAACQ,KAAK,CAACC,KAAP,EAAcN,KAAd,EAAqBC,MAArB,CAAV,GACIE,cAAc,CAACI,IAAf,CAAoBX,CAAC,CAACY,SAAF,CAAYH,KAAK,CAACA,KAAlB,CAApB,CADJ,GAEII,SAHN;AAKA,SAAOb,CAAC,CAACc,KAAF,CAAQC,KAAR,CACL,IADK,EAELR,cAFK,CAAP;AAID,CAdM;AAgBP,OAAO,MAAMS,aAAa,GACxBV,MAD2B,IAExB;AACH,QAAMW,UAAU,GAAGf,aAAa,EAAhC;AACA,SAAOC,aAAa,CAACc,UAAD,EAAaX,MAAb,CAApB;AACD,CALM","sourcesContent":["import * as _ from \"lodash\";\r\nimport type { ViewStyle, TextStyle, ImageStyle } from \"react-native\";\r\n\r\nimport { mediaQuery, MediaQuery } from \"./MediaQuery\";\r\nimport useDimensions from \"./useDimensions\";\r\n\r\ntype NamedStyles<T> = { [P in keyof T]: ViewStyle | TextStyle | ImageStyle };\r\ninterface MediaQueryStyle<T> {\r\n  query: MediaQuery;\r\n  style: NamedStyles<T>;\r\n}\r\n\r\nexport const getStylesheet = <T extends Record<string, unknown>>(\r\n  { width, height }: { width: number; height: number },\r\n  styles: MediaQueryStyle<T>[]\r\n) => {\r\n  const selectedStyles: NamedStyles<T>[] = [];\r\n  styles.forEach((style) =>\r\n    mediaQuery(style.query, width, height)\r\n      ? selectedStyles.push(_.cloneDeep(style.style))\r\n      : undefined\r\n  );\r\n  return _.merge.apply<null, NamedStyles<T>[], NamedStyles<T>>(\r\n    null,\r\n    selectedStyles\r\n  );\r\n};\r\n\r\nexport const useStylesheet = <T extends Record<string, unknown>>(\r\n  styles: MediaQueryStyle<T>[]\r\n) => {\r\n  const dimensions = useDimensions();\r\n  return getStylesheet(dimensions, styles);\r\n};\r\n"]}